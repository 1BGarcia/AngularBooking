{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"E:\\\\M7ProyectoAngular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\asyncToGenerator.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _icssUtils = require(\"icss-utils\");\n\nvar _utils = require(\"../utils\");\n\nconst plugin = (options = {}) => {\n  return {\n    postcssPlugin: \"postcss-icss-parser\",\n\n    OnceExit(root) {\n      return _asyncToGenerator(function* () {\n        const importReplacements = Object.create(null);\n        const {\n          icssImports,\n          icssExports\n        } = (0, _icssUtils.extractICSS)(root);\n        const imports = new Map();\n        const tasks = [];\n        const {\n          loaderContext\n        } = options;\n        const resolver = loaderContext.getResolve({\n          dependencyType: \"icss\",\n          conditionNames: [\"style\"],\n          extensions: [\"...\"],\n          mainFields: [\"css\", \"style\", \"main\", \"...\"],\n          mainFiles: [\"index\", \"...\"],\n          preferRelative: true\n        }); // eslint-disable-next-line guard-for-in\n\n        for (const url in icssImports) {\n          const tokens = icssImports[url];\n\n          if (Object.keys(tokens).length === 0) {\n            // eslint-disable-next-line no-continue\n            continue;\n          }\n\n          let normalizedUrl = url;\n          let prefix = \"\";\n          const queryParts = normalizedUrl.split(\"!\");\n\n          if (queryParts.length > 1) {\n            normalizedUrl = queryParts.pop();\n            prefix = queryParts.join(\"!\");\n          }\n\n          const request = (0, _utils.requestify)((0, _utils.normalizeUrl)(normalizedUrl, true), loaderContext.rootContext);\n\n          const doResolve = /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* () {\n              const resolvedUrl = yield (0, _utils.resolveRequests)(resolver, loaderContext.context, [...new Set([normalizedUrl, request])]);\n\n              if (!resolvedUrl) {\n                return;\n              } // eslint-disable-next-line consistent-return\n\n\n              return {\n                url: resolvedUrl,\n                prefix,\n                tokens\n              };\n            });\n\n            return function doResolve() {\n              return _ref.apply(this, arguments);\n            };\n          }();\n\n          tasks.push(doResolve());\n        }\n\n        const results = yield Promise.all(tasks);\n\n        for (let index = 0; index <= results.length - 1; index++) {\n          const item = results[index];\n\n          if (!item) {\n            // eslint-disable-next-line no-continue\n            continue;\n          }\n\n          const newUrl = item.prefix ? `${item.prefix}!${item.url}` : item.url;\n          const importKey = newUrl;\n          let importName = imports.get(importKey);\n\n          if (!importName) {\n            importName = `___CSS_LOADER_ICSS_IMPORT_${imports.size}___`;\n            imports.set(importKey, importName);\n            options.imports.push({\n              type: \"icss_import\",\n              importName,\n              url: options.urlHandler(newUrl),\n              icss: true,\n              index\n            });\n            options.api.push({\n              importName,\n              dedupe: true,\n              index\n            });\n          }\n\n          for (const [replacementIndex, token] of Object.keys(item.tokens).entries()) {\n            const replacementName = `___CSS_LOADER_ICSS_IMPORT_${index}_REPLACEMENT_${replacementIndex}___`;\n            const localName = item.tokens[token];\n            importReplacements[token] = replacementName;\n            options.replacements.push({\n              replacementName,\n              importName,\n              localName\n            });\n          }\n        }\n\n        if (Object.keys(importReplacements).length > 0) {\n          (0, _icssUtils.replaceSymbols)(root, importReplacements);\n        }\n\n        for (const name of Object.keys(icssExports)) {\n          const value = (0, _icssUtils.replaceValueSymbols)(icssExports[name], importReplacements);\n          options.exports.push({\n            name,\n            value\n          });\n        }\n      })();\n    }\n\n  };\n};\n\nplugin.postcss = true;\nvar _default = plugin;\nexports.default = _default;","map":{"version":3,"sources":["E:/M7ProyectoAngular/node_modules/css-loader/dist/plugins/postcss-icss-parser.js"],"names":["Object","defineProperty","exports","value","default","_icssUtils","require","_utils","plugin","options","postcssPlugin","OnceExit","root","importReplacements","create","icssImports","icssExports","extractICSS","imports","Map","tasks","loaderContext","resolver","getResolve","dependencyType","conditionNames","extensions","mainFields","mainFiles","preferRelative","url","tokens","keys","length","normalizedUrl","prefix","queryParts","split","pop","join","request","requestify","normalizeUrl","rootContext","doResolve","resolvedUrl","resolveRequests","context","Set","push","results","Promise","all","index","item","newUrl","importKey","importName","get","size","set","type","urlHandler","icss","api","dedupe","replacementIndex","token","entries","replacementName","localName","replacements","replaceSymbols","name","replaceValueSymbols","postcss","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _icssUtils = require(\"icss-utils\");\n\nvar _utils = require(\"../utils\");\n\nconst plugin = (options = {}) => {\n  return {\n    postcssPlugin: \"postcss-icss-parser\",\n\n    async OnceExit(root) {\n      const importReplacements = Object.create(null);\n      const {\n        icssImports,\n        icssExports\n      } = (0, _icssUtils.extractICSS)(root);\n      const imports = new Map();\n      const tasks = [];\n      const {\n        loaderContext\n      } = options;\n      const resolver = loaderContext.getResolve({\n        dependencyType: \"icss\",\n        conditionNames: [\"style\"],\n        extensions: [\"...\"],\n        mainFields: [\"css\", \"style\", \"main\", \"...\"],\n        mainFiles: [\"index\", \"...\"],\n        preferRelative: true\n      }); // eslint-disable-next-line guard-for-in\n\n      for (const url in icssImports) {\n        const tokens = icssImports[url];\n\n        if (Object.keys(tokens).length === 0) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        let normalizedUrl = url;\n        let prefix = \"\";\n        const queryParts = normalizedUrl.split(\"!\");\n\n        if (queryParts.length > 1) {\n          normalizedUrl = queryParts.pop();\n          prefix = queryParts.join(\"!\");\n        }\n\n        const request = (0, _utils.requestify)((0, _utils.normalizeUrl)(normalizedUrl, true), loaderContext.rootContext);\n\n        const doResolve = async () => {\n          const resolvedUrl = await (0, _utils.resolveRequests)(resolver, loaderContext.context, [...new Set([normalizedUrl, request])]);\n\n          if (!resolvedUrl) {\n            return;\n          } // eslint-disable-next-line consistent-return\n\n\n          return {\n            url: resolvedUrl,\n            prefix,\n            tokens\n          };\n        };\n\n        tasks.push(doResolve());\n      }\n\n      const results = await Promise.all(tasks);\n\n      for (let index = 0; index <= results.length - 1; index++) {\n        const item = results[index];\n\n        if (!item) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        const newUrl = item.prefix ? `${item.prefix}!${item.url}` : item.url;\n        const importKey = newUrl;\n        let importName = imports.get(importKey);\n\n        if (!importName) {\n          importName = `___CSS_LOADER_ICSS_IMPORT_${imports.size}___`;\n          imports.set(importKey, importName);\n          options.imports.push({\n            type: \"icss_import\",\n            importName,\n            url: options.urlHandler(newUrl),\n            icss: true,\n            index\n          });\n          options.api.push({\n            importName,\n            dedupe: true,\n            index\n          });\n        }\n\n        for (const [replacementIndex, token] of Object.keys(item.tokens).entries()) {\n          const replacementName = `___CSS_LOADER_ICSS_IMPORT_${index}_REPLACEMENT_${replacementIndex}___`;\n          const localName = item.tokens[token];\n          importReplacements[token] = replacementName;\n          options.replacements.push({\n            replacementName,\n            importName,\n            localName\n          });\n        }\n      }\n\n      if (Object.keys(importReplacements).length > 0) {\n        (0, _icssUtils.replaceSymbols)(root, importReplacements);\n      }\n\n      for (const name of Object.keys(icssExports)) {\n        const value = (0, _icssUtils.replaceValueSymbols)(icssExports[name], importReplacements);\n        options.exports.push({\n          name,\n          value\n        });\n      }\n    }\n\n  };\n};\n\nplugin.postcss = true;\nvar _default = plugin;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}