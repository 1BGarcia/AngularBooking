{"ast":null,"code":"import _asyncToGenerator from \"E:\\\\M7ProyectoAngular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"../services/citas-usuarios/citas-usuarios.service\";\nimport * as i3 from \"@angular/forms\";\nexport class AnadirUsuariosComponent {\n  constructor(toastrSvc, users) {\n    this.toastrSvc = toastrSvc;\n    this.users = users;\n    this.userData = new FormGroup({\n      firstName: new FormControl(''),\n      lastName: new FormControl(''),\n      phone: new FormControl('')\n    });\n  }\n\n  ngOnInit() {\n    this.getAllUsers();\n    console.log(this.allUsers);\n  }\n\n  signupUsers() {\n    this.toastrSvc.success(\"La cita se ha realizado correctamente\");\n    let phone = {\n      phone: this.userData.value.phone\n    };\n    this.saveUsers(phone); // Informacion a enviar\n  }\n\n  getAllUsers() {\n    var _this = this;\n\n    this.users.findAllUser().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        _this.allUsers = res;\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  saveUsers(phone) {\n    var _this2 = this;\n\n    this.users.saveUserByPhone(phone).subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (res) {\n        console.log(\"Esto es funcion\", res);\n\n        if (res == null) {\n          _this2.toastrSvc.success(\"La cita se ha realizado correctamente\");\n\n          _this2.users.saveUsers(_this2.userData.value).subscribe( /*#__PURE__*/function () {\n            var _ref3 = _asyncToGenerator(function* (res) {\n              console.log(res);\n            });\n\n            return function (_x3) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n        } else {\n          _this2.toastrSvc.error(\"Este usuario ya esta registrado\");\n        }\n      });\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n\n}\n\nAnadirUsuariosComponent.ɵfac = function AnadirUsuariosComponent_Factory(t) {\n  return new (t || AnadirUsuariosComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.CitasUsuariosService));\n};\n\nAnadirUsuariosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AnadirUsuariosComponent,\n  selectors: [[\"app-anadir-usuarios\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[\"id\", \"modal-content-wrapper\"], [\"id\", \"modal-header\"], [1, \"modal-title\"], [1, \"content-modal\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"name\", \"nombre\", \"id\", \"nombre\", \"formControlName\", \"firstName\"], [\"type\", \"text\", \"name\", \"apellido\", \"id\", \"apellido\", \"formControlName\", \"lastName\"], [\"type\", \"number\", \"name\", \"telefono\", \"id\", \"telefono\", \"formControlName\", \"phone\"], [1, \"buttons\"], [\"type\", \"submit\"]],\n  template: function AnadirUsuariosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Crear cita previa\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function AnadirUsuariosComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.signupUsers();\n      });\n      i0.ɵɵelementStart(6, \"p\")(7, \"span\");\n      i0.ɵɵtext(8, \"Introduce tu nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\")(11, \"span\");\n      i0.ɵɵtext(12, \"Introduce el apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"p\")(15, \"span\");\n      i0.ɵɵtext(16, \"Introduce un numero de telefono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 8)(19, \"button\", 9);\n      i0.ɵɵtext(20, \"Enviar\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.userData);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.NumberValueAccessor],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhbmFkaXItdXN1YXJpb3MuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["E:/M7ProyectoAngular/src/app/anadir-usuarios/anadir-usuarios.component.ts"],"names":["FormControl","FormGroup","i0","i1","i2","i3","AnadirUsuariosComponent","constructor","toastrSvc","users","userData","firstName","lastName","phone","ngOnInit","getAllUsers","console","log","allUsers","signupUsers","success","value","saveUsers","findAllUser","subscribe","res","saveUserByPhone","error","ɵfac","AnadirUsuariosComponent_Factory","t","ɵɵdirectiveInject","ToastrService","CitasUsuariosService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AnadirUsuariosComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AnadirUsuariosComponent_Template_form_ngSubmit_5_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","NumberValueAccessor","styles"],"mappings":"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","sourcesContent":["import { FormControl, FormGroup } from '@angular/forms';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"ngx-toastr\";\r\nimport * as i2 from \"../services/citas-usuarios/citas-usuarios.service\";\r\nimport * as i3 from \"@angular/forms\";\r\nexport class AnadirUsuariosComponent {\r\n    constructor(toastrSvc, users) {\r\n        this.toastrSvc = toastrSvc;\r\n        this.users = users;\r\n        this.userData = new FormGroup({\r\n            firstName: new FormControl(''),\r\n            lastName: new FormControl(''),\r\n            phone: new FormControl('')\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.getAllUsers();\r\n        console.log(this.allUsers);\r\n    }\r\n    signupUsers() {\r\n        this.toastrSvc.success(\"La cita se ha realizado correctamente\");\r\n        let phone = {\r\n            phone: this.userData.value.phone\r\n        };\r\n        this.saveUsers(phone);\r\n        // Informacion a enviar\r\n    }\r\n    getAllUsers() {\r\n        this.users.findAllUser().subscribe(async (res) => {\r\n            this.allUsers = res;\r\n        });\r\n    }\r\n    saveUsers(phone) {\r\n        this.users.saveUserByPhone(phone).subscribe(async (res) => {\r\n            console.log(\"Esto es funcion\", res);\r\n            if (res == null) {\r\n                this.toastrSvc.success(\"La cita se ha realizado correctamente\");\r\n                this.users.saveUsers(this.userData.value).subscribe(async (res) => {\r\n                    console.log(res);\r\n                });\r\n            }\r\n            else {\r\n                this.toastrSvc.error(\"Este usuario ya esta registrado\");\r\n            }\r\n        });\r\n    }\r\n}\r\nAnadirUsuariosComponent.ɵfac = function AnadirUsuariosComponent_Factory(t) { return new (t || AnadirUsuariosComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.CitasUsuariosService)); };\r\nAnadirUsuariosComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AnadirUsuariosComponent, selectors: [[\"app-anadir-usuarios\"]], decls: 21, vars: 1, consts: [[\"id\", \"modal-content-wrapper\"], [\"id\", \"modal-header\"], [1, \"modal-title\"], [1, \"content-modal\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"name\", \"nombre\", \"id\", \"nombre\", \"formControlName\", \"firstName\"], [\"type\", \"text\", \"name\", \"apellido\", \"id\", \"apellido\", \"formControlName\", \"lastName\"], [\"type\", \"number\", \"name\", \"telefono\", \"id\", \"telefono\", \"formControlName\", \"phone\"], [1, \"buttons\"], [\"type\", \"submit\"]], template: function AnadirUsuariosComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\r\n        i0.ɵɵtext(3, \"Crear cita previa\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4);\r\n        i0.ɵɵlistener(\"ngSubmit\", function AnadirUsuariosComponent_Template_form_ngSubmit_5_listener() { return ctx.signupUsers(); });\r\n        i0.ɵɵelementStart(6, \"p\")(7, \"span\");\r\n        i0.ɵɵtext(8, \"Introduce tu nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(9, \"input\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"p\")(11, \"span\");\r\n        i0.ɵɵtext(12, \"Introduce el apellido\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"input\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"p\")(15, \"span\");\r\n        i0.ɵɵtext(16, \"Introduce un numero de telefono\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(17, \"input\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 8)(19, \"button\", 9);\r\n        i0.ɵɵtext(20, \"Enviar\");\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.userData);\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.NumberValueAccessor], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhbmFkaXItdXN1YXJpb3MuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}