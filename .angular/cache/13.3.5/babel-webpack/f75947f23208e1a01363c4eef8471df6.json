{"ast":null,"code":"import _asyncToGenerator from \"E:\\\\M7ProyectoAngular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport e from \"postcss-value-parser\";\nimport t from \"path\";\nimport { pathToFileURL as o } from \"url\";\nimport { parse as r } from \"postcss\";\nimport { promises as s } from \"fs\";\n\nfunction n(e) {\n  const t = e.selector ? e : e.parent;\n  return /(!\\s*)?postcss-custom-properties:\\s*off\\b/i.test(t.toString());\n}\n\nfunction i(t, o) {\n  const r = new Map(),\n        s = new Map(),\n        i = new Map();\n  t.nodes.slice().forEach(t => {\n    const i = l(t) ? r : p(t) ? s : null;\n    i && (t.nodes.slice().forEach(t => {\n      if (t.variable && !n(t)) {\n        const {\n          prop: r\n        } = t;\n        i.set(r, e(t.value)), o.preserve || t.remove();\n      }\n    }), o.preserve || !u(t) || n(t) || t.remove());\n  });\n\n  for (const [e, t] of r.entries()) i.set(e, t);\n\n  for (const [e, t] of s.entries()) i.set(e, t);\n\n  return i;\n}\n\nconst a = /^html$/i,\n      c = /^:root$/i,\n      l = e => \"rule\" === e.type && e.selector.split(\",\").some(e => a.test(e)) && Object(e.nodes).length,\n      p = e => \"rule\" === e.type && e.selector.split(\",\").some(e => c.test(e)) && Object(e.nodes).length,\n      u = e => 0 === Object(e.nodes).length;\n\nfunction f(t) {\n  const o = new Map();\n  if (\"customProperties\" in t) for (const [r, s] of Object.entries(t.customProperties)) o.set(r, e(s.toString()));\n  if (\"custom-properties\" in t) for (const [r, s] of Object.entries(t[\"custom-properties\"])) o.set(r, e(s.toString()));\n  return o;\n}\n\nfunction m(_x) {\n  return _m.apply(this, arguments);\n}\n\nfunction _m() {\n  _m = _asyncToGenerator(function* (e) {\n    let t;\n\n    try {\n      t = yield import(e);\n    } catch (r) {\n      t = yield import(o(e).href);\n    }\n\n    return f(\"default\" in t ? t.default : t);\n  });\n  return _m.apply(this, arguments);\n}\n\nfunction w(_x2) {\n  return _w.apply(this, arguments);\n}\n\nfunction _w() {\n  _w = _asyncToGenerator(function* (e) {\n    const o = (yield Promise.all(e.map( /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator(function* (e) {\n        if (e instanceof Promise ? e = yield e : e instanceof Function && (e = yield e()), \"string\" == typeof e) {\n          const o = t.resolve(e);\n          return {\n            type: t.extname(o).slice(1).toLowerCase(),\n            from: o\n          };\n        }\n\n        if (\"customProperties\" in e && Object(e.customProperties) === e.customProperties) return e;\n        if (\"custom-properties\" in e && Object(e[\"custom-properties\"]) === e[\"custom-properties\"]) return e;\n\n        if (\"from\" in e) {\n          const o = t.resolve(e.from);\n          let r = e.type;\n          return r || (r = t.extname(o).slice(1).toLowerCase()), {\n            type: r,\n            from: o\n          };\n        }\n\n        return Object.keys(e).length, null;\n      });\n\n      return function (_x9) {\n        return _ref4.apply(this, arguments);\n      };\n    }()))).filter(e => !!e),\n          n = yield Promise.all(o.map( /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator(function* (e) {\n        if (\"type\" in e && \"from\" in e) {\n          if (\"css\" === e.type || \"pcss\" === e.type) return yield function () {\n            var _ref6 = _asyncToGenerator(function* (e) {\n              const t = yield s.readFile(e);\n              return i(r(t, {\n                from: e.toString()\n              }), {\n                preserve: !0\n              });\n            });\n\n            return function (_x11) {\n              return _ref6.apply(this, arguments);\n            };\n          }()(e.from);\n          if (\"js\" === e.type || \"cjs\" === e.type) return yield m(e.from);\n          if (\"mjs\" === e.type) return yield m(e.from);\n          if (\"json\" === e.type) return yield function () {\n            var _ref7 = _asyncToGenerator(function* (e) {\n              return f(yield v(e));\n            });\n\n            return function (_x12) {\n              return _ref7.apply(this, arguments);\n            };\n          }()(e.from);\n          throw new Error(\"Invalid source type: \" + e.type);\n        }\n\n        return f(e);\n      });\n\n      return function (_x10) {\n        return _ref5.apply(this, arguments);\n      };\n    }())),\n          a = new Map();\n    return n.forEach(e => {\n      for (const [t, o] of e.entries()) a.set(t, o);\n    }), a;\n  });\n  return _w.apply(this, arguments);\n}\n\nconst v = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (e) {\n    return JSON.parse((yield s.readFile(e)).toString());\n  });\n\n  return function v(_x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction d(e, t) {\n  return e.nodes && e.nodes.length && e.nodes.slice().forEach(o => {\n    if (h(o)) {\n      const [r, ...s] = o.nodes.filter(e => \"div\" !== e.type),\n            {\n        value: n\n      } = r,\n            i = e.nodes.indexOf(o);\n\n      if (t.has(n)) {\n        const o = t.get(n).nodes;\n        !function (e, t, o) {\n          const r = new Map(t);\n          r.delete(o), d(e, r);\n        }({\n          nodes: o\n        }, t, n), i > -1 && e.nodes.splice(i, 1, ...o);\n      } else s.length && (i > -1 && e.nodes.splice(i, 1, ...o.nodes.slice(o.nodes.indexOf(s[0]))), d(e, t));\n    } else d(o, t);\n  }), e.toString();\n}\n\nconst y = /^var$/i,\n      h = e => \"function\" === e.type && y.test(e.value) && Object(e.nodes).length > 0;\n\nvar g = (t, o, r) => {\n  if (b(t) && !function (e) {\n    const t = e.prev();\n    return Boolean(n(e) || t && \"comment\" === t.type && /(!\\s*)?postcss-custom-properties:\\s*ignore\\s+next\\b/i.test(t.text));\n  }(t)) {\n    const s = t.value;\n    let n = d(e(s), o);\n    const i = new Set();\n\n    for (; O.test(n) && !i.has(n);) {\n      i.add(n);\n      n = d(e(n), o);\n    }\n\n    if (n !== s) if (r.preserve) {\n      const e = t.cloneBefore({\n        value: n\n      });\n      $(e) && (e.raws.value.value = e.value.replace(x, \"$1\"), e.raws.value.raw = e.raws.value.value + e.raws.value.raw.replace(x, \"$2\"));\n    } else t.value = n, $(t) && (t.raws.value.value = t.value.replace(x, \"$1\"), t.raws.value.raw = t.raws.value.value + t.raws.value.raw.replace(x, \"$2\"));\n  }\n};\n\nconst j = /^--[A-z][\\w-]*$/,\n      O = /(^|[^\\w-])var\\([\\W\\w]+\\)/,\n      b = e => !j.test(e.prop) && O.test(e.value),\n      $ = e => \"value\" in Object(Object(e.raws).value) && \"raw\" in e.raws.value && x.test(e.raws.value.raw),\n      x = /^([\\W\\w]+)(\\s*\\/\\*[\\W\\w]+?\\*\\/)$/;\n\nfunction F(_x4, _x5, _x6) {\n  return _F.apply(this, arguments);\n}\n\nfunction _F() {\n  _F = _asyncToGenerator(function* (e, t, o) {\n    \"css\" === t && (yield function () {\n      var _ref8 = _asyncToGenerator(function* (e, t) {\n        const o = `:root {\\n${Object.keys(t).reduce((e, o) => (e.push(`\\t${o}: ${t[o]};`), e), []).join(\"\\n\")}\\n}\\n`;\n        yield s.writeFile(e, o);\n      });\n\n      return function (_x13, _x14) {\n        return _ref8.apply(this, arguments);\n      };\n    }()(e, o)), \"scss\" === t && (yield function () {\n      var _ref9 = _asyncToGenerator(function* (e, t) {\n        const o = `${Object.keys(t).reduce((e, o) => {\n          const r = o.replace(\"--\", \"$\");\n          return e.push(`${r}: ${t[o]};`), e;\n        }, []).join(\"\\n\")}\\n`;\n        yield s.writeFile(e, o);\n      });\n\n      return function (_x15, _x16) {\n        return _ref9.apply(this, arguments);\n      };\n    }()(e, o)), \"js\" === t && (yield function () {\n      var _ref10 = _asyncToGenerator(function* (e, t) {\n        const o = `module.exports = {\\n\\tcustomProperties: {\\n${Object.keys(t).reduce((e, o) => (e.push(`\\t\\t'${S(o)}': '${S(t[o])}'`), e), []).join(\",\\n\")}\\n\\t}\\n};\\n`;\n        yield s.writeFile(e, o);\n      });\n\n      return function (_x17, _x18) {\n        return _ref10.apply(this, arguments);\n      };\n    }()(e, o)), \"json\" === t && (yield function () {\n      var _ref11 = _asyncToGenerator(function* (e, t) {\n        const o = `${JSON.stringify({\n          \"custom-properties\": t\n        }, null, \"  \")}\\n`;\n        yield s.writeFile(e, o);\n      });\n\n      return function (_x19, _x20) {\n        return _ref11.apply(this, arguments);\n      };\n    }()(e, o)), \"mjs\" === t && (yield function () {\n      var _ref12 = _asyncToGenerator(function* (e, t) {\n        const o = `export const customProperties = {\\n${Object.keys(t).reduce((e, o) => (e.push(`\\t'${S(o)}': '${S(t[o])}'`), e), []).join(\",\\n\")}\\n};\\n`;\n        yield s.writeFile(e, o);\n      });\n\n      return function (_x21, _x22) {\n        return _ref12.apply(this, arguments);\n      };\n    }()(e, o));\n  });\n  return _F.apply(this, arguments);\n}\n\nfunction P(e) {\n  const t = {};\n\n  for (const [o, r] of e.entries()) t[o] = r.toString();\n\n  return t;\n}\n\nconst S = e => e.replace(/\\\\([\\s\\S])|(')/g, \"\\\\$1$2\").replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\"),\n      k = e => {\n  const o = !(\"preserve\" in Object(e)) || Boolean(e.preserve),\n        r = \"overrideImportFromWithRoot\" in Object(e) && Boolean(e.overrideImportFromWithRoot),\n        s = \"disableDeprecationNotice\" in Object(e) && Boolean(e.disableDeprecationNotice);\n  let n = [];\n  Array.isArray(null == e ? void 0 : e.importFrom) ? n = e.importFrom : null != e && e.importFrom && (n = [e.importFrom]);\n  let a = [];\n  Array.isArray(null == e ? void 0 : e.exportTo) ? a = e.exportTo : null != e && e.exportTo && (a = [e.exportTo]);\n  const c = w(n),\n        l = 0 === n.length && 0 === a.length;\n  return {\n    postcssPlugin: \"postcss-custom-properties\",\n\n    prepare() {\n      let e = new Map();\n      return l ? {\n        Once: t => {\n          e = i(t, {\n            preserve: o\n          });\n        },\n        Declaration: t => {\n          g(t, e, {\n            preserve: o\n          });\n        },\n        OnceExit: () => {\n          e.clear();\n        }\n      } : {\n        Once: function () {\n          var _ref2 = _asyncToGenerator(function* (s) {\n            const n = (yield c).entries(),\n                  l = i(s, {\n              preserve: o\n            }).entries();\n            if (r) for (const [t, o] of [...n, ...l]) e.set(t, o);else for (const [t, o] of [...l, ...n]) e.set(t, o);\n            yield function (e, o) {\n              return Promise.all(o.map( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator(function* (o) {\n                  if (o instanceof Function) return void (yield o(P(e)));\n\n                  if (\"string\" == typeof o) {\n                    const r = t.resolve(o),\n                          s = t.extname(r).slice(1).toLowerCase();\n                    return void (yield F(r, s, P(e)));\n                  }\n\n                  let r = {};\n\n                  if (r = \"toJSON\" in o ? o.toJSON(P(e)) : P(e), \"to\" in o) {\n                    const e = t.resolve(o.to);\n                    let s = o.type;\n                    return s || (s = t.extname(e).slice(1).toLowerCase()), void (yield F(e, s, r));\n                  }\n\n                  \"customProperties\" in o ? o.customProperties = r : \"custom-properties\" in o && (o[\"custom-properties\"] = r);\n                });\n\n                return function (_x8) {\n                  return _ref3.apply(this, arguments);\n                };\n              }()));\n            }(e, a);\n          });\n\n          return function Once(_x7) {\n            return _ref2.apply(this, arguments);\n          };\n        }(),\n        Declaration: t => {\n          g(t, e, {\n            preserve: o\n          });\n        },\n        OnceExit: (t, {\n          result: o\n        }) => {\n          !s && (n.length > 0 || a.length > 0) && t.warn(o, '\"importFrom\" and \"exportTo\" will be removed in a future version of postcss-custom-properties.\\nWe are looking for insights and anecdotes on how these features are used so that we can design the best alternative.\\nPlease let us know if our proposal will work for you.\\nVisit the discussion on github for more details. https://github.com/csstools/postcss-plugins/discussions/192'), e.clear();\n        }\n      };\n    }\n\n  };\n};\n\nk.postcss = !0;\nexport { k as default };","map":{"version":3,"sources":["E:/M7ProyectoAngular/node_modules/postcss-custom-properties/dist/index.mjs"],"names":["e","t","pathToFileURL","o","parse","r","promises","s","n","selector","parent","test","toString","i","Map","nodes","slice","forEach","l","p","variable","prop","set","value","preserve","remove","u","entries","a","c","type","split","some","Object","length","f","customProperties","m","href","default","w","Promise","all","map","Function","resolve","extname","toLowerCase","from","keys","filter","readFile","v","Error","JSON","d","h","indexOf","has","get","delete","splice","y","g","b","prev","Boolean","text","Set","O","add","cloneBefore","$","raws","replace","x","raw","j","F","reduce","push","join","writeFile","S","stringify","P","k","overrideImportFromWithRoot","disableDeprecationNotice","Array","isArray","importFrom","exportTo","postcssPlugin","prepare","Once","Declaration","OnceExit","clear","toJSON","to","result","warn","postcss"],"mappings":"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","sourcesContent":["import e from\"postcss-value-parser\";import t from\"path\";import{pathToFileURL as o}from\"url\";import{parse as r}from\"postcss\";import{promises as s}from\"fs\";function n(e){const t=e.selector?e:e.parent;return/(!\\s*)?postcss-custom-properties:\\s*off\\b/i.test(t.toString())}function i(t,o){const r=new Map,s=new Map,i=new Map;t.nodes.slice().forEach((t=>{const i=l(t)?r:p(t)?s:null;i&&(t.nodes.slice().forEach((t=>{if(t.variable&&!n(t)){const{prop:r}=t;i.set(r,e(t.value)),o.preserve||t.remove()}})),o.preserve||!u(t)||n(t)||t.remove())}));for(const[e,t]of r.entries())i.set(e,t);for(const[e,t]of s.entries())i.set(e,t);return i}const a=/^html$/i,c=/^:root$/i,l=e=>\"rule\"===e.type&&e.selector.split(\",\").some((e=>a.test(e)))&&Object(e.nodes).length,p=e=>\"rule\"===e.type&&e.selector.split(\",\").some((e=>c.test(e)))&&Object(e.nodes).length,u=e=>0===Object(e.nodes).length;function f(t){const o=new Map;if(\"customProperties\"in t)for(const[r,s]of Object.entries(t.customProperties))o.set(r,e(s.toString()));if(\"custom-properties\"in t)for(const[r,s]of Object.entries(t[\"custom-properties\"]))o.set(r,e(s.toString()));return o}async function m(e){let t;try{t=await import(e)}catch(r){t=await import(o(e).href)}return f(\"default\"in t?t.default:t)}async function w(e){const o=(await Promise.all(e.map((async e=>{if(e instanceof Promise?e=await e:e instanceof Function&&(e=await e()),\"string\"==typeof e){const o=t.resolve(e);return{type:t.extname(o).slice(1).toLowerCase(),from:o}}if(\"customProperties\"in e&&Object(e.customProperties)===e.customProperties)return e;if(\"custom-properties\"in e&&Object(e[\"custom-properties\"])===e[\"custom-properties\"])return e;if(\"from\"in e){const o=t.resolve(e.from);let r=e.type;return r||(r=t.extname(o).slice(1).toLowerCase()),{type:r,from:o}}return Object.keys(e).length,null})))).filter((e=>!!e)),n=await Promise.all(o.map((async e=>{if(\"type\"in e&&\"from\"in e){if(\"css\"===e.type||\"pcss\"===e.type)return await async function(e){const t=await s.readFile(e);return i(r(t,{from:e.toString()}),{preserve:!0})}(e.from);if(\"js\"===e.type||\"cjs\"===e.type)return await m(e.from);if(\"mjs\"===e.type)return await m(e.from);if(\"json\"===e.type)return await async function(e){return f(await v(e))}(e.from);throw new Error(\"Invalid source type: \"+e.type)}return f(e)}))),a=new Map;return n.forEach((e=>{for(const[t,o]of e.entries())a.set(t,o)})),a}const v=async e=>JSON.parse((await s.readFile(e)).toString());function d(e,t){return e.nodes&&e.nodes.length&&e.nodes.slice().forEach((o=>{if(h(o)){const[r,...s]=o.nodes.filter((e=>\"div\"!==e.type)),{value:n}=r,i=e.nodes.indexOf(o);if(t.has(n)){const o=t.get(n).nodes;!function(e,t,o){const r=new Map(t);r.delete(o),d(e,r)}({nodes:o},t,n),i>-1&&e.nodes.splice(i,1,...o)}else s.length&&(i>-1&&e.nodes.splice(i,1,...o.nodes.slice(o.nodes.indexOf(s[0]))),d(e,t))}else d(o,t)})),e.toString()}const y=/^var$/i,h=e=>\"function\"===e.type&&y.test(e.value)&&Object(e.nodes).length>0;var g=(t,o,r)=>{if(b(t)&&!function(e){const t=e.prev();return Boolean(n(e)||t&&\"comment\"===t.type&&/(!\\s*)?postcss-custom-properties:\\s*ignore\\s+next\\b/i.test(t.text))}(t)){const s=t.value;let n=d(e(s),o);const i=new Set;for(;O.test(n)&&!i.has(n);){i.add(n);n=d(e(n),o)}if(n!==s)if(r.preserve){const e=t.cloneBefore({value:n});$(e)&&(e.raws.value.value=e.value.replace(x,\"$1\"),e.raws.value.raw=e.raws.value.value+e.raws.value.raw.replace(x,\"$2\"))}else t.value=n,$(t)&&(t.raws.value.value=t.value.replace(x,\"$1\"),t.raws.value.raw=t.raws.value.value+t.raws.value.raw.replace(x,\"$2\"))}};const j=/^--[A-z][\\w-]*$/,O=/(^|[^\\w-])var\\([\\W\\w]+\\)/,b=e=>!j.test(e.prop)&&O.test(e.value),$=e=>\"value\"in Object(Object(e.raws).value)&&\"raw\"in e.raws.value&&x.test(e.raws.value.raw),x=/^([\\W\\w]+)(\\s*\\/\\*[\\W\\w]+?\\*\\/)$/;async function F(e,t,o){\"css\"===t&&await async function(e,t){const o=`:root {\\n${Object.keys(t).reduce(((e,o)=>(e.push(`\\t${o}: ${t[o]};`),e)),[]).join(\"\\n\")}\\n}\\n`;await s.writeFile(e,o)}(e,o),\"scss\"===t&&await async function(e,t){const o=`${Object.keys(t).reduce(((e,o)=>{const r=o.replace(\"--\",\"$\");return e.push(`${r}: ${t[o]};`),e}),[]).join(\"\\n\")}\\n`;await s.writeFile(e,o)}(e,o),\"js\"===t&&await async function(e,t){const o=`module.exports = {\\n\\tcustomProperties: {\\n${Object.keys(t).reduce(((e,o)=>(e.push(`\\t\\t'${S(o)}': '${S(t[o])}'`),e)),[]).join(\",\\n\")}\\n\\t}\\n};\\n`;await s.writeFile(e,o)}(e,o),\"json\"===t&&await async function(e,t){const o=`${JSON.stringify({\"custom-properties\":t},null,\"  \")}\\n`;await s.writeFile(e,o)}(e,o),\"mjs\"===t&&await async function(e,t){const o=`export const customProperties = {\\n${Object.keys(t).reduce(((e,o)=>(e.push(`\\t'${S(o)}': '${S(t[o])}'`),e)),[]).join(\",\\n\")}\\n};\\n`;await s.writeFile(e,o)}(e,o)}function P(e){const t={};for(const[o,r]of e.entries())t[o]=r.toString();return t}const S=e=>e.replace(/\\\\([\\s\\S])|(')/g,\"\\\\$1$2\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\"),k=e=>{const o=!(\"preserve\"in Object(e))||Boolean(e.preserve),r=\"overrideImportFromWithRoot\"in Object(e)&&Boolean(e.overrideImportFromWithRoot),s=\"disableDeprecationNotice\"in Object(e)&&Boolean(e.disableDeprecationNotice);let n=[];Array.isArray(null==e?void 0:e.importFrom)?n=e.importFrom:null!=e&&e.importFrom&&(n=[e.importFrom]);let a=[];Array.isArray(null==e?void 0:e.exportTo)?a=e.exportTo:null!=e&&e.exportTo&&(a=[e.exportTo]);const c=w(n),l=0===n.length&&0===a.length;return{postcssPlugin:\"postcss-custom-properties\",prepare(){let e=new Map;return l?{Once:t=>{e=i(t,{preserve:o})},Declaration:t=>{g(t,e,{preserve:o})},OnceExit:()=>{e.clear()}}:{Once:async s=>{const n=(await c).entries(),l=i(s,{preserve:o}).entries();if(r)for(const[t,o]of[...n,...l])e.set(t,o);else for(const[t,o]of[...l,...n])e.set(t,o);await function(e,o){return Promise.all(o.map((async o=>{if(o instanceof Function)return void await o(P(e));if(\"string\"==typeof o){const r=t.resolve(o),s=t.extname(r).slice(1).toLowerCase();return void await F(r,s,P(e))}let r={};if(r=\"toJSON\"in o?o.toJSON(P(e)):P(e),\"to\"in o){const e=t.resolve(o.to);let s=o.type;return s||(s=t.extname(e).slice(1).toLowerCase()),void await F(e,s,r)}\"customProperties\"in o?o.customProperties=r:\"custom-properties\"in o&&(o[\"custom-properties\"]=r)})))}(e,a)},Declaration:t=>{g(t,e,{preserve:o})},OnceExit:(t,{result:o})=>{!s&&(n.length>0||a.length>0)&&t.warn(o,'\"importFrom\" and \"exportTo\" will be removed in a future version of postcss-custom-properties.\\nWe are looking for insights and anecdotes on how these features are used so that we can design the best alternative.\\nPlease let us know if our proposal will work for you.\\nVisit the discussion on github for more details. https://github.com/csstools/postcss-plugins/discussions/192'),e.clear()}}}}};k.postcss=!0;export{k as default};\n"]},"metadata":{},"sourceType":"module"}