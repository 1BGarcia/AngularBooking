{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst assert_1 = require(\"assert\");\n\nconst fs = __importStar(require(\"fs\"));\n\nconst path = __importStar(require(\"path\"));\n\nfunction createI18nDiagnostics(reporter) {\n  const diagnostics = new class {\n    constructor() {\n      this.messages = [];\n      this.hasErrors = false;\n    }\n\n    add(type, message) {\n      if (type === 'ignore') {\n        return;\n      }\n\n      this.messages.push({\n        type,\n        message\n      });\n      this.hasErrors || (this.hasErrors = type === 'error');\n      reporter === null || reporter === void 0 ? void 0 : reporter(type, message);\n    }\n\n    error(message) {\n      this.add('error', message);\n    }\n\n    warn(message) {\n      this.add('warning', message);\n    }\n\n    merge(other) {\n      for (const diagnostic of other.messages) {\n        this.add(diagnostic.type, diagnostic.message);\n      }\n    }\n\n    formatDiagnostics() {\n      assert_1.strict.fail('@angular/localize Diagnostics formatDiagnostics should not be called from within babel.');\n    }\n\n  }();\n  return diagnostics;\n}\n\nfunction createI18nPlugins(locale, translation, missingTranslationBehavior, diagnosticReporter, pluginCreators) {\n  const diagnostics = createI18nDiagnostics(diagnosticReporter);\n  const plugins = [];\n  const {\n    makeEs5TranslatePlugin,\n    makeEs2015TranslatePlugin,\n    makeLocalePlugin\n  } = pluginCreators;\n\n  if (translation) {\n    plugins.push(makeEs2015TranslatePlugin(diagnostics, translation, {\n      missingTranslation: missingTranslationBehavior\n    }));\n    plugins.push(makeEs5TranslatePlugin(diagnostics, translation, {\n      missingTranslation: missingTranslationBehavior\n    }));\n  }\n\n  plugins.push(makeLocalePlugin(locale));\n  return plugins;\n}\n\nfunction createNgtscLogger(reporter) {\n  return {\n    level: 1,\n\n    debug(...args) {},\n\n    info(...args) {\n      reporter === null || reporter === void 0 ? void 0 : reporter('info', args.join());\n    },\n\n    warn(...args) {\n      reporter === null || reporter === void 0 ? void 0 : reporter('warning', args.join());\n    },\n\n    error(...args) {\n      reporter === null || reporter === void 0 ? void 0 : reporter('error', args.join());\n    }\n\n  };\n}\n\nfunction default_1(api, options) {\n  var _a, _b;\n\n  const presets = [];\n  const plugins = [];\n  let needRuntimeTransform = false;\n\n  if ((_a = options.angularLinker) === null || _a === void 0 ? void 0 : _a.shouldLink) {\n    plugins.push(options.angularLinker.linkerPluginCreator({\n      linkerJitMode: options.angularLinker.jitMode,\n      // This is a workaround until https://github.com/angular/angular/issues/42769 is fixed.\n      sourceMapping: false,\n      logger: createNgtscLogger(options.diagnosticReporter),\n      fileSystem: {\n        resolve: path.resolve,\n        exists: fs.existsSync,\n        dirname: path.dirname,\n        relative: path.relative,\n        readFile: fs.readFileSync // Node.JS types don't overlap the Compiler types.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      }\n    }));\n  }\n\n  if (options.forceES5) {\n    presets.push([require('@babel/preset-env').default, {\n      bugfixes: true,\n      modules: false,\n      // Comparable behavior to tsconfig target of ES5\n      targets: {\n        ie: 9\n      },\n      exclude: ['transform-typeof-symbol']\n    }]);\n    needRuntimeTransform = true;\n  }\n\n  if (options.i18n) {\n    const {\n      locale,\n      missingTranslationBehavior,\n      pluginCreators,\n      translation\n    } = options.i18n;\n    const i18nPlugins = createI18nPlugins(locale, translation, missingTranslationBehavior || 'ignore', options.diagnosticReporter, pluginCreators);\n    plugins.push(...i18nPlugins);\n  }\n\n  if (options.forceAsyncTransformation) {\n    // Always transform async/await to support Zone.js\n    plugins.push(require('@babel/plugin-transform-async-to-generator').default, require('@babel/plugin-proposal-async-generator-functions').default);\n    needRuntimeTransform = true;\n  }\n\n  if (options.optimize) {\n    if (options.optimize.pureTopLevel) {\n      plugins.push(require('../plugins/pure-toplevel-functions').default);\n    }\n\n    plugins.push(require('../plugins/elide-angular-metadata').default, [require('../plugins/adjust-typescript-enums').default, {\n      loose: options.optimize.looseEnums\n    }], [require('../plugins/adjust-static-class-members').default, {\n      wrapDecorators: options.optimize.wrapDecorators\n    }]);\n  }\n\n  if (options.instrumentCode) {\n    plugins.push([require('babel-plugin-istanbul').default, {\n      inputSourceMap: (_b = options.instrumentCode.inputSourceMap) !== null && _b !== void 0 ? _b : false,\n      cwd: options.instrumentCode.includedBasePath\n    }]);\n  }\n\n  if (needRuntimeTransform) {\n    // Babel equivalent to TypeScript's `importHelpers` option\n    plugins.push([require('@babel/plugin-transform-runtime').default, {\n      useESModules: true,\n      version: require('@babel/runtime/package.json').version,\n      absoluteRuntime: path.dirname(require.resolve('@babel/runtime/package.json'))\n    }]);\n  }\n\n  return {\n    presets,\n    plugins\n  };\n}\n\nexports.default = default_1;","map":{"version":3,"sources":["E:/M7ProyectoAngular/node_modules/@angular-devkit/build-angular/src/babel/presets/application.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","assert_1","require","fs","path","createI18nDiagnostics","reporter","diagnostics","constructor","messages","hasErrors","add","type","message","push","error","warn","merge","other","diagnostic","formatDiagnostics","strict","fail","createI18nPlugins","locale","translation","missingTranslationBehavior","diagnosticReporter","pluginCreators","plugins","makeEs5TranslatePlugin","makeEs2015TranslatePlugin","makeLocalePlugin","missingTranslation","createNgtscLogger","level","debug","args","info","join","default_1","api","options","_a","_b","presets","needRuntimeTransform","angularLinker","shouldLink","linkerPluginCreator","linkerJitMode","jitMode","sourceMapping","logger","fileSystem","resolve","exists","existsSync","dirname","relative","readFile","readFileSync","forceES5","default","bugfixes","modules","targets","ie","exclude","i18n","i18nPlugins","forceAsyncTransformation","optimize","pureTopLevel","loose","looseEnums","wrapDecorators","instrumentCode","inputSourceMap","cwd","includedBasePath","useESModules","version","absoluteRuntime"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst assert_1 = require(\"assert\");\nconst fs = __importStar(require(\"fs\"));\nconst path = __importStar(require(\"path\"));\nfunction createI18nDiagnostics(reporter) {\n    const diagnostics = new (class {\n        constructor() {\n            this.messages = [];\n            this.hasErrors = false;\n        }\n        add(type, message) {\n            if (type === 'ignore') {\n                return;\n            }\n            this.messages.push({ type, message });\n            this.hasErrors || (this.hasErrors = type === 'error');\n            reporter === null || reporter === void 0 ? void 0 : reporter(type, message);\n        }\n        error(message) {\n            this.add('error', message);\n        }\n        warn(message) {\n            this.add('warning', message);\n        }\n        merge(other) {\n            for (const diagnostic of other.messages) {\n                this.add(diagnostic.type, diagnostic.message);\n            }\n        }\n        formatDiagnostics() {\n            assert_1.strict.fail('@angular/localize Diagnostics formatDiagnostics should not be called from within babel.');\n        }\n    })();\n    return diagnostics;\n}\nfunction createI18nPlugins(locale, translation, missingTranslationBehavior, diagnosticReporter, pluginCreators) {\n    const diagnostics = createI18nDiagnostics(diagnosticReporter);\n    const plugins = [];\n    const { makeEs5TranslatePlugin, makeEs2015TranslatePlugin, makeLocalePlugin } = pluginCreators;\n    if (translation) {\n        plugins.push(makeEs2015TranslatePlugin(diagnostics, translation, {\n            missingTranslation: missingTranslationBehavior,\n        }));\n        plugins.push(makeEs5TranslatePlugin(diagnostics, translation, {\n            missingTranslation: missingTranslationBehavior,\n        }));\n    }\n    plugins.push(makeLocalePlugin(locale));\n    return plugins;\n}\nfunction createNgtscLogger(reporter) {\n    return {\n        level: 1,\n        debug(...args) { },\n        info(...args) {\n            reporter === null || reporter === void 0 ? void 0 : reporter('info', args.join());\n        },\n        warn(...args) {\n            reporter === null || reporter === void 0 ? void 0 : reporter('warning', args.join());\n        },\n        error(...args) {\n            reporter === null || reporter === void 0 ? void 0 : reporter('error', args.join());\n        },\n    };\n}\nfunction default_1(api, options) {\n    var _a, _b;\n    const presets = [];\n    const plugins = [];\n    let needRuntimeTransform = false;\n    if ((_a = options.angularLinker) === null || _a === void 0 ? void 0 : _a.shouldLink) {\n        plugins.push(options.angularLinker.linkerPluginCreator({\n            linkerJitMode: options.angularLinker.jitMode,\n            // This is a workaround until https://github.com/angular/angular/issues/42769 is fixed.\n            sourceMapping: false,\n            logger: createNgtscLogger(options.diagnosticReporter),\n            fileSystem: {\n                resolve: path.resolve,\n                exists: fs.existsSync,\n                dirname: path.dirname,\n                relative: path.relative,\n                readFile: fs.readFileSync,\n                // Node.JS types don't overlap the Compiler types.\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            },\n        }));\n    }\n    if (options.forceES5) {\n        presets.push([\n            require('@babel/preset-env').default,\n            {\n                bugfixes: true,\n                modules: false,\n                // Comparable behavior to tsconfig target of ES5\n                targets: { ie: 9 },\n                exclude: ['transform-typeof-symbol'],\n            },\n        ]);\n        needRuntimeTransform = true;\n    }\n    if (options.i18n) {\n        const { locale, missingTranslationBehavior, pluginCreators, translation } = options.i18n;\n        const i18nPlugins = createI18nPlugins(locale, translation, missingTranslationBehavior || 'ignore', options.diagnosticReporter, pluginCreators);\n        plugins.push(...i18nPlugins);\n    }\n    if (options.forceAsyncTransformation) {\n        // Always transform async/await to support Zone.js\n        plugins.push(require('@babel/plugin-transform-async-to-generator').default, require('@babel/plugin-proposal-async-generator-functions').default);\n        needRuntimeTransform = true;\n    }\n    if (options.optimize) {\n        if (options.optimize.pureTopLevel) {\n            plugins.push(require('../plugins/pure-toplevel-functions').default);\n        }\n        plugins.push(require('../plugins/elide-angular-metadata').default, [\n            require('../plugins/adjust-typescript-enums').default,\n            { loose: options.optimize.looseEnums },\n        ], [\n            require('../plugins/adjust-static-class-members').default,\n            { wrapDecorators: options.optimize.wrapDecorators },\n        ]);\n    }\n    if (options.instrumentCode) {\n        plugins.push([\n            require('babel-plugin-istanbul').default,\n            {\n                inputSourceMap: (_b = options.instrumentCode.inputSourceMap) !== null && _b !== void 0 ? _b : false,\n                cwd: options.instrumentCode.includedBasePath,\n            },\n        ]);\n    }\n    if (needRuntimeTransform) {\n        // Babel equivalent to TypeScript's `importHelpers` option\n        plugins.push([\n            require('@babel/plugin-transform-runtime').default,\n            {\n                useESModules: true,\n                version: require('@babel/runtime/package.json').version,\n                absoluteRuntime: path.dirname(require.resolve('@babel/runtime/package.json')),\n            },\n        ]);\n    }\n    return { presets, plugins };\n}\nexports.default = default_1;\n"]},"metadata":{},"sourceType":"script"}