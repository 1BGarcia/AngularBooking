{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"E:\\\\M7ProyectoAngular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\asyncToGenerator.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.exec = exec;\nexports.findPackageJSONDir = findPackageJSONDir;\nexports.getPostcssImplementation = getPostcssImplementation;\nexports.getPostcssOptions = getPostcssOptions;\nexports.loadConfig = loadConfig;\nexports.normalizeSourceMap = normalizeSourceMap;\nexports.normalizeSourceMapAfterPostcss = normalizeSourceMapAfterPostcss;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _module = _interopRequireDefault(require(\"module\"));\n\nvar _full = require(\"klona/full\");\n\nvar _cosmiconfig = require(\"cosmiconfig\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst parentModule = module;\n\nconst stat = (inputFileSystem, filePath) => new Promise((resolve, reject) => {\n  inputFileSystem.stat(filePath, (err, stats) => {\n    if (err) {\n      reject(err);\n    }\n\n    resolve(stats);\n  });\n});\n\nfunction exec(code, loaderContext) {\n  const {\n    resource,\n    context\n  } = loaderContext;\n  const module = new _module.default(resource, parentModule); // eslint-disable-next-line no-underscore-dangle\n\n  module.paths = _module.default._nodeModulePaths(context);\n  module.filename = resource; // eslint-disable-next-line no-underscore-dangle\n\n  module._compile(code, resource);\n\n  return module.exports;\n}\n\nfunction loadConfig(_x, _x2, _x3) {\n  return _loadConfig.apply(this, arguments);\n}\n\nfunction _loadConfig() {\n  _loadConfig = _asyncToGenerator(function* (loaderContext, config, postcssOptions) {\n    const searchPath = typeof config === \"string\" ? _path.default.resolve(config) : _path.default.dirname(loaderContext.resourcePath);\n    let stats;\n\n    try {\n      stats = yield stat(loaderContext.fs, searchPath);\n    } catch (errorIgnore) {\n      throw new Error(`No PostCSS config found in: ${searchPath}`);\n    }\n\n    const explorer = (0, _cosmiconfig.cosmiconfig)(\"postcss\");\n    let result;\n\n    try {\n      if (stats.isFile()) {\n        result = yield explorer.load(searchPath);\n      } else {\n        result = yield explorer.search(searchPath);\n      }\n    } catch (error) {\n      throw error;\n    }\n\n    if (!result) {\n      return {};\n    }\n\n    loaderContext.addBuildDependency(result.filepath);\n    loaderContext.addDependency(result.filepath);\n\n    if (result.isEmpty) {\n      return result;\n    }\n\n    if (typeof result.config === \"function\") {\n      const api = {\n        mode: loaderContext.mode,\n        file: loaderContext.resourcePath,\n        // For complex use\n        webpackLoaderContext: loaderContext,\n        // Partial compatibility with `postcss-cli`\n        env: loaderContext.mode,\n        options: postcssOptions || {}\n      };\n      result.config = result.config(api);\n    }\n\n    result = (0, _full.klona)(result);\n    return result;\n  });\n  return _loadConfig.apply(this, arguments);\n}\n\nfunction loadPlugin(plugin, options, file) {\n  try {\n    if (!options || Object.keys(options).length === 0) {\n      // eslint-disable-next-line global-require, import/no-dynamic-require\n      const loadedPlugin = require(plugin);\n\n      if (loadedPlugin.default) {\n        return loadedPlugin.default;\n      }\n\n      return loadedPlugin;\n    } // eslint-disable-next-line global-require, import/no-dynamic-require\n\n\n    const loadedPlugin = require(plugin);\n\n    if (loadedPlugin.default) {\n      return loadedPlugin.default(options);\n    }\n\n    return loadedPlugin(options);\n  } catch (error) {\n    throw new Error(`Loading PostCSS \"${plugin}\" plugin failed: ${error.message}\\n\\n(@${file})`);\n  }\n}\n\nfunction pluginFactory() {\n  const listOfPlugins = new Map();\n  return plugins => {\n    if (typeof plugins === \"undefined\") {\n      return listOfPlugins;\n    }\n\n    if (Array.isArray(plugins)) {\n      for (const plugin of plugins) {\n        if (Array.isArray(plugin)) {\n          const [name, options] = plugin;\n          listOfPlugins.set(name, options);\n        } else if (plugin && typeof plugin === \"function\") {\n          listOfPlugins.set(plugin);\n        } else if (plugin && Object.keys(plugin).length === 1 && (typeof plugin[Object.keys(plugin)[0]] === \"object\" || typeof plugin[Object.keys(plugin)[0]] === \"boolean\") && plugin[Object.keys(plugin)[0]] !== null) {\n          const [name] = Object.keys(plugin);\n          const options = plugin[name];\n\n          if (options === false) {\n            listOfPlugins.delete(name);\n          } else {\n            listOfPlugins.set(name, options);\n          }\n        } else if (plugin) {\n          listOfPlugins.set(plugin);\n        }\n      }\n    } else {\n      const objectPlugins = Object.entries(plugins);\n\n      for (const [name, options] of objectPlugins) {\n        if (options === false) {\n          listOfPlugins.delete(name);\n        } else {\n          listOfPlugins.set(name, options);\n        }\n      }\n    }\n\n    return listOfPlugins;\n  };\n}\n\nfunction tryRequireThenImport(_x4) {\n  return _tryRequireThenImport.apply(this, arguments);\n}\n\nfunction _tryRequireThenImport() {\n  _tryRequireThenImport = _asyncToGenerator(function* (module) {\n    let exports;\n\n    try {\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      exports = require(module);\n      return exports;\n    } catch (requireError) {\n      let importESM;\n\n      try {\n        // eslint-disable-next-line no-new-func\n        importESM = new Function(\"id\", \"return import(id);\");\n      } catch (e) {\n        importESM = null;\n      }\n\n      if (requireError.code === \"ERR_REQUIRE_ESM\" && importESM) {\n        exports = yield importESM(module);\n        return exports.default;\n      }\n\n      throw requireError;\n    }\n  });\n  return _tryRequireThenImport.apply(this, arguments);\n}\n\nfunction getPostcssOptions(_x5) {\n  return _getPostcssOptions.apply(this, arguments);\n}\n\nfunction _getPostcssOptions() {\n  _getPostcssOptions = _asyncToGenerator(function* (loaderContext, loadedConfig = {}, postcssOptions = {}) {\n    const file = loaderContext.resourcePath;\n    let normalizedPostcssOptions = postcssOptions;\n\n    if (typeof normalizedPostcssOptions === \"function\") {\n      normalizedPostcssOptions = normalizedPostcssOptions(loaderContext);\n    }\n\n    let plugins = [];\n\n    try {\n      const factory = pluginFactory();\n\n      if (loadedConfig.config && loadedConfig.config.plugins) {\n        factory(loadedConfig.config.plugins);\n      }\n\n      factory(normalizedPostcssOptions.plugins);\n      plugins = [...factory()].map(item => {\n        const [plugin, options] = item;\n\n        if (typeof plugin === \"string\") {\n          return loadPlugin(plugin, options, file);\n        }\n\n        return plugin;\n      });\n    } catch (error) {\n      loaderContext.emitError(error);\n    }\n\n    const processOptionsFromConfig = loadedConfig.config || {};\n\n    if (processOptionsFromConfig.from) {\n      processOptionsFromConfig.from = _path.default.resolve(_path.default.dirname(loadedConfig.filepath), processOptionsFromConfig.from);\n    }\n\n    if (processOptionsFromConfig.to) {\n      processOptionsFromConfig.to = _path.default.resolve(_path.default.dirname(loadedConfig.filepath), processOptionsFromConfig.to);\n    } // No need them for processOptions\n\n\n    delete processOptionsFromConfig.plugins;\n    const processOptionsFromOptions = (0, _full.klona)(normalizedPostcssOptions);\n\n    if (processOptionsFromOptions.from) {\n      processOptionsFromOptions.from = _path.default.resolve(loaderContext.rootContext, processOptionsFromOptions.from);\n    }\n\n    if (processOptionsFromOptions.to) {\n      processOptionsFromOptions.to = _path.default.resolve(loaderContext.rootContext, processOptionsFromOptions.to);\n    } // No need them for processOptions\n\n\n    delete processOptionsFromOptions.config;\n    delete processOptionsFromOptions.plugins;\n    const processOptions = {\n      from: file,\n      to: file,\n      map: false,\n      ...processOptionsFromConfig,\n      ...processOptionsFromOptions\n    };\n\n    if (typeof processOptions.parser === \"string\") {\n      try {\n        processOptions.parser = yield tryRequireThenImport(processOptions.parser);\n      } catch (error) {\n        loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.parser}\" parser failed: ${error.message}\\n\\n(@${file})`));\n      }\n    }\n\n    if (typeof processOptions.stringifier === \"string\") {\n      try {\n        processOptions.stringifier = yield tryRequireThenImport(processOptions.stringifier);\n      } catch (error) {\n        loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.stringifier}\" stringifier failed: ${error.message}\\n\\n(@${file})`));\n      }\n    }\n\n    if (typeof processOptions.syntax === \"string\") {\n      try {\n        processOptions.syntax = yield tryRequireThenImport(processOptions.syntax);\n      } catch (error) {\n        loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.syntax}\" syntax failed: ${error.message}\\n\\n(@${file})`));\n      }\n    }\n\n    if (processOptions.map === true) {\n      // https://github.com/postcss/postcss/blob/master/docs/source-maps.md\n      processOptions.map = {\n        inline: true\n      };\n    }\n\n    return {\n      plugins,\n      processOptions\n    };\n  });\n  return _getPostcssOptions.apply(this, arguments);\n}\n\nconst IS_NATIVE_WIN32_PATH = /^[a-z]:[/\\\\]|^\\\\\\\\/i;\nconst ABSOLUTE_SCHEME = /^[a-z0-9+\\-.]+:/i;\n\nfunction getURLType(source) {\n  if (source[0] === \"/\") {\n    if (source[1] === \"/\") {\n      return \"scheme-relative\";\n    }\n\n    return \"path-absolute\";\n  }\n\n  if (IS_NATIVE_WIN32_PATH.test(source)) {\n    return \"path-absolute\";\n  }\n\n  return ABSOLUTE_SCHEME.test(source) ? \"absolute\" : \"path-relative\";\n}\n\nfunction normalizeSourceMap(map, resourceContext) {\n  let newMap = map; // Some loader emit source map as string\n  // Strip any JSON XSSI avoidance prefix from the string (as documented in the source maps specification), and then parse the string as JSON.\n\n  if (typeof newMap === \"string\") {\n    newMap = JSON.parse(newMap);\n  }\n\n  delete newMap.file;\n  const {\n    sourceRoot\n  } = newMap;\n  delete newMap.sourceRoot;\n\n  if (newMap.sources) {\n    newMap.sources = newMap.sources.map(source => {\n      const sourceType = getURLType(source); // Do no touch `scheme-relative` and `absolute` URLs\n\n      if (sourceType === \"path-relative\" || sourceType === \"path-absolute\") {\n        const absoluteSource = sourceType === \"path-relative\" && sourceRoot ? _path.default.resolve(sourceRoot, _path.default.normalize(source)) : _path.default.normalize(source);\n        return _path.default.relative(resourceContext, absoluteSource);\n      }\n\n      return source;\n    });\n  }\n\n  return newMap;\n}\n\nfunction normalizeSourceMapAfterPostcss(map, resourceContext) {\n  const newMap = map; // result.map.file is an optional property that provides the output filename.\n  // Since we don't know the final filename in the webpack build chain yet, it makes no sense to have it.\n  // eslint-disable-next-line no-param-reassign\n\n  delete newMap.file; // eslint-disable-next-line no-param-reassign\n\n  newMap.sourceRoot = \"\"; // eslint-disable-next-line no-param-reassign\n\n  newMap.sources = newMap.sources.map(source => {\n    if (source.indexOf(\"<\") === 0) {\n      return source;\n    }\n\n    const sourceType = getURLType(source); // Do no touch `scheme-relative`, `path-absolute` and `absolute` types\n\n    if (sourceType === \"path-relative\") {\n      return _path.default.resolve(resourceContext, source);\n    }\n\n    return source;\n  });\n  return newMap;\n}\n\nfunction findPackageJSONDir(cwd, statSync) {\n  let dir = cwd;\n\n  for (;;) {\n    try {\n      if (statSync(_path.default.join(dir, \"package.json\")).isFile()) {\n        break;\n      }\n    } catch (error) {// Nothing\n    }\n\n    const parent = _path.default.dirname(dir);\n\n    if (dir === parent) {\n      dir = null;\n      break;\n    }\n\n    dir = parent;\n  }\n\n  return dir;\n}\n\nfunction getPostcssImplementation(loaderContext, implementation) {\n  let resolvedImplementation = implementation;\n\n  if (!implementation || typeof implementation === \"string\") {\n    const postcssImplPkg = implementation || \"postcss\";\n\n    try {\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      resolvedImplementation = require(postcssImplPkg);\n    } catch (error) {\n      loaderContext.emitError(error); // eslint-disable-next-line consistent-return\n\n      return;\n    }\n  } // eslint-disable-next-line consistent-return\n\n\n  return resolvedImplementation;\n}","map":{"version":3,"sources":["E:/M7ProyectoAngular/node_modules/postcss-loader/dist/utils.js"],"names":["Object","defineProperty","exports","value","exec","findPackageJSONDir","getPostcssImplementation","getPostcssOptions","loadConfig","normalizeSourceMap","normalizeSourceMapAfterPostcss","_path","_interopRequireDefault","require","_module","_full","_cosmiconfig","obj","__esModule","default","parentModule","module","stat","inputFileSystem","filePath","Promise","resolve","reject","err","stats","code","loaderContext","resource","context","paths","_nodeModulePaths","filename","_compile","config","postcssOptions","searchPath","dirname","resourcePath","fs","errorIgnore","Error","explorer","cosmiconfig","result","isFile","load","search","error","addBuildDependency","filepath","addDependency","isEmpty","api","mode","file","webpackLoaderContext","env","options","klona","loadPlugin","plugin","keys","length","loadedPlugin","message","pluginFactory","listOfPlugins","Map","plugins","Array","isArray","name","set","delete","objectPlugins","entries","tryRequireThenImport","requireError","importESM","Function","e","loadedConfig","normalizedPostcssOptions","factory","map","item","emitError","processOptionsFromConfig","from","to","processOptionsFromOptions","rootContext","processOptions","parser","stringifier","syntax","inline","IS_NATIVE_WIN32_PATH","ABSOLUTE_SCHEME","getURLType","source","test","resourceContext","newMap","JSON","parse","sourceRoot","sources","sourceType","absoluteSource","normalize","relative","indexOf","cwd","statSync","dir","join","parent","implementation","resolvedImplementation","postcssImplPkg"],"mappings":"AAAA;;;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,IAAR,GAAeA,IAAf;AACAF,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;AACAH,OAAO,CAACI,wBAAR,GAAmCA,wBAAnC;AACAJ,OAAO,CAACK,iBAAR,GAA4BA,iBAA5B;AACAL,OAAO,CAACM,UAAR,GAAqBA,UAArB;AACAN,OAAO,CAACO,kBAAR,GAA6BA,kBAA7B;AACAP,OAAO,CAACQ,8BAAR,GAAyCA,8BAAzC;;AAEA,IAAIC,KAAK,GAAGC,sBAAsB,CAACC,OAAO,CAAC,MAAD,CAAR,CAAlC;;AAEA,IAAIC,OAAO,GAAGF,sBAAsB,CAACC,OAAO,CAAC,QAAD,CAAR,CAApC;;AAEA,IAAIE,KAAK,GAAGF,OAAO,CAAC,YAAD,CAAnB;;AAEA,IAAIG,YAAY,GAAGH,OAAO,CAAC,aAAD,CAA1B;;AAEA,SAASD,sBAAT,CAAgCK,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,MAAMG,YAAY,GAAGC,MAArB;;AAEA,MAAMC,IAAI,GAAG,CAACC,eAAD,EAAkBC,QAAlB,KAA+B,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3EJ,EAAAA,eAAe,CAACD,IAAhB,CAAqBE,QAArB,EAA+B,CAACI,GAAD,EAAMC,KAAN,KAAgB;AAC7C,QAAID,GAAJ,EAAS;AACPD,MAAAA,MAAM,CAACC,GAAD,CAAN;AACD;;AAEDF,IAAAA,OAAO,CAACG,KAAD,CAAP;AACD,GAND;AAOD,CAR2C,CAA5C;;AAUA,SAASzB,IAAT,CAAc0B,IAAd,EAAoBC,aAApB,EAAmC;AACjC,QAAM;AACJC,IAAAA,QADI;AAEJC,IAAAA;AAFI,MAGFF,aAHJ;AAIA,QAAMV,MAAM,GAAG,IAAIP,OAAO,CAACK,OAAZ,CAAoBa,QAApB,EAA8BZ,YAA9B,CAAf,CALiC,CAK2B;;AAE5DC,EAAAA,MAAM,CAACa,KAAP,GAAepB,OAAO,CAACK,OAAR,CAAgBgB,gBAAhB,CAAiCF,OAAjC,CAAf;AACAZ,EAAAA,MAAM,CAACe,QAAP,GAAkBJ,QAAlB,CARiC,CAQL;;AAE5BX,EAAAA,MAAM,CAACgB,QAAP,CAAgBP,IAAhB,EAAsBE,QAAtB;;AAEA,SAAOX,MAAM,CAACnB,OAAd;AACD;;SAEcM,U;;;;;kCAAf,WAA0BuB,aAA1B,EAAyCO,MAAzC,EAAiDC,cAAjD,EAAiE;AAC/D,UAAMC,UAAU,GAAG,OAAOF,MAAP,KAAkB,QAAlB,GAA6B3B,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBY,MAAtB,CAA7B,GAA6D3B,KAAK,CAACQ,OAAN,CAAcsB,OAAd,CAAsBV,aAAa,CAACW,YAApC,CAAhF;AACA,QAAIb,KAAJ;;AAEA,QAAI;AACFA,MAAAA,KAAK,SAASP,IAAI,CAACS,aAAa,CAACY,EAAf,EAAmBH,UAAnB,CAAlB;AACD,KAFD,CAEE,OAAOI,WAAP,EAAoB;AACpB,YAAM,IAAIC,KAAJ,CAAW,+BAA8BL,UAAW,EAApD,CAAN;AACD;;AAED,UAAMM,QAAQ,GAAG,CAAC,GAAG9B,YAAY,CAAC+B,WAAjB,EAA8B,SAA9B,CAAjB;AACA,QAAIC,MAAJ;;AAEA,QAAI;AACF,UAAInB,KAAK,CAACoB,MAAN,EAAJ,EAAoB;AAClBD,QAAAA,MAAM,SAASF,QAAQ,CAACI,IAAT,CAAcV,UAAd,CAAf;AACD,OAFD,MAEO;AACLQ,QAAAA,MAAM,SAASF,QAAQ,CAACK,MAAT,CAAgBX,UAAhB,CAAf;AACD;AACF,KAND,CAME,OAAOY,KAAP,EAAc;AACd,YAAMA,KAAN;AACD;;AAED,QAAI,CAACJ,MAAL,EAAa;AACX,aAAO,EAAP;AACD;;AAEDjB,IAAAA,aAAa,CAACsB,kBAAd,CAAiCL,MAAM,CAACM,QAAxC;AACAvB,IAAAA,aAAa,CAACwB,aAAd,CAA4BP,MAAM,CAACM,QAAnC;;AAEA,QAAIN,MAAM,CAACQ,OAAX,EAAoB;AAClB,aAAOR,MAAP;AACD;;AAED,QAAI,OAAOA,MAAM,CAACV,MAAd,KAAyB,UAA7B,EAAyC;AACvC,YAAMmB,GAAG,GAAG;AACVC,QAAAA,IAAI,EAAE3B,aAAa,CAAC2B,IADV;AAEVC,QAAAA,IAAI,EAAE5B,aAAa,CAACW,YAFV;AAGV;AACAkB,QAAAA,oBAAoB,EAAE7B,aAJZ;AAKV;AACA8B,QAAAA,GAAG,EAAE9B,aAAa,CAAC2B,IANT;AAOVI,QAAAA,OAAO,EAAEvB,cAAc,IAAI;AAPjB,OAAZ;AASAS,MAAAA,MAAM,CAACV,MAAP,GAAgBU,MAAM,CAACV,MAAP,CAAcmB,GAAd,CAAhB;AACD;;AAEDT,IAAAA,MAAM,GAAG,CAAC,GAAGjC,KAAK,CAACgD,KAAV,EAAiBf,MAAjB,CAAT;AACA,WAAOA,MAAP;AACD,G;;;;AAED,SAASgB,UAAT,CAAoBC,MAApB,EAA4BH,OAA5B,EAAqCH,IAArC,EAA2C;AACzC,MAAI;AACF,QAAI,CAACG,OAAD,IAAY9D,MAAM,CAACkE,IAAP,CAAYJ,OAAZ,EAAqBK,MAArB,KAAgC,CAAhD,EAAmD;AACjD;AACA,YAAMC,YAAY,GAAGvD,OAAO,CAACoD,MAAD,CAA5B;;AAEA,UAAIG,YAAY,CAACjD,OAAjB,EAA0B;AACxB,eAAOiD,YAAY,CAACjD,OAApB;AACD;;AAED,aAAOiD,YAAP;AACD,KAVC,CAUA;;;AAGF,UAAMA,YAAY,GAAGvD,OAAO,CAACoD,MAAD,CAA5B;;AAEA,QAAIG,YAAY,CAACjD,OAAjB,EAA0B;AACxB,aAAOiD,YAAY,CAACjD,OAAb,CAAqB2C,OAArB,CAAP;AACD;;AAED,WAAOM,YAAY,CAACN,OAAD,CAAnB;AACD,GApBD,CAoBE,OAAOV,KAAP,EAAc;AACd,UAAM,IAAIP,KAAJ,CAAW,oBAAmBoB,MAAO,oBAAmBb,KAAK,CAACiB,OAAQ,SAAQV,IAAK,GAAnF,CAAN;AACD;AACF;;AAED,SAASW,aAAT,GAAyB;AACvB,QAAMC,aAAa,GAAG,IAAIC,GAAJ,EAAtB;AACA,SAAOC,OAAO,IAAI;AAChB,QAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AAClC,aAAOF,aAAP;AACD;;AAED,QAAIG,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAJ,EAA4B;AAC1B,WAAK,MAAMR,MAAX,IAAqBQ,OAArB,EAA8B;AAC5B,YAAIC,KAAK,CAACC,OAAN,CAAcV,MAAd,CAAJ,EAA2B;AACzB,gBAAM,CAACW,IAAD,EAAOd,OAAP,IAAkBG,MAAxB;AACAM,UAAAA,aAAa,CAACM,GAAd,CAAkBD,IAAlB,EAAwBd,OAAxB;AACD,SAHD,MAGO,IAAIG,MAAM,IAAI,OAAOA,MAAP,KAAkB,UAAhC,EAA4C;AACjDM,UAAAA,aAAa,CAACM,GAAd,CAAkBZ,MAAlB;AACD,SAFM,MAEA,IAAIA,MAAM,IAAIjE,MAAM,CAACkE,IAAP,CAAYD,MAAZ,EAAoBE,MAApB,KAA+B,CAAzC,KAA+C,OAAOF,MAAM,CAACjE,MAAM,CAACkE,IAAP,CAAYD,MAAZ,EAAoB,CAApB,CAAD,CAAb,KAA0C,QAA1C,IAAsD,OAAOA,MAAM,CAACjE,MAAM,CAACkE,IAAP,CAAYD,MAAZ,EAAoB,CAApB,CAAD,CAAb,KAA0C,SAA/I,KAA6JA,MAAM,CAACjE,MAAM,CAACkE,IAAP,CAAYD,MAAZ,EAAoB,CAApB,CAAD,CAAN,KAAmC,IAApM,EAA0M;AAC/M,gBAAM,CAACW,IAAD,IAAS5E,MAAM,CAACkE,IAAP,CAAYD,MAAZ,CAAf;AACA,gBAAMH,OAAO,GAAGG,MAAM,CAACW,IAAD,CAAtB;;AAEA,cAAId,OAAO,KAAK,KAAhB,EAAuB;AACrBS,YAAAA,aAAa,CAACO,MAAd,CAAqBF,IAArB;AACD,WAFD,MAEO;AACLL,YAAAA,aAAa,CAACM,GAAd,CAAkBD,IAAlB,EAAwBd,OAAxB;AACD;AACF,SATM,MASA,IAAIG,MAAJ,EAAY;AACjBM,UAAAA,aAAa,CAACM,GAAd,CAAkBZ,MAAlB;AACD;AACF;AACF,KApBD,MAoBO;AACL,YAAMc,aAAa,GAAG/E,MAAM,CAACgF,OAAP,CAAeP,OAAf,CAAtB;;AAEA,WAAK,MAAM,CAACG,IAAD,EAAOd,OAAP,CAAX,IAA8BiB,aAA9B,EAA6C;AAC3C,YAAIjB,OAAO,KAAK,KAAhB,EAAuB;AACrBS,UAAAA,aAAa,CAACO,MAAd,CAAqBF,IAArB;AACD,SAFD,MAEO;AACLL,UAAAA,aAAa,CAACM,GAAd,CAAkBD,IAAlB,EAAwBd,OAAxB;AACD;AACF;AACF;;AAED,WAAOS,aAAP;AACD,GAtCD;AAuCD;;SAEcU,oB;;;;;4CAAf,WAAoC5D,MAApC,EAA4C;AAC1C,QAAInB,OAAJ;;AAEA,QAAI;AACF;AACAA,MAAAA,OAAO,GAAGW,OAAO,CAACQ,MAAD,CAAjB;AACA,aAAOnB,OAAP;AACD,KAJD,CAIE,OAAOgF,YAAP,EAAqB;AACrB,UAAIC,SAAJ;;AAEA,UAAI;AACF;AACAA,QAAAA,SAAS,GAAG,IAAIC,QAAJ,CAAa,IAAb,EAAmB,oBAAnB,CAAZ;AACD,OAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,QAAAA,SAAS,GAAG,IAAZ;AACD;;AAED,UAAID,YAAY,CAACpD,IAAb,KAAsB,iBAAtB,IAA2CqD,SAA/C,EAA0D;AACxDjF,QAAAA,OAAO,SAASiF,SAAS,CAAC9D,MAAD,CAAzB;AACA,eAAOnB,OAAO,CAACiB,OAAf;AACD;;AAED,YAAM+D,YAAN;AACD;AACF,G;;;;SAEc3E,iB;;;;;yCAAf,WAAiCwB,aAAjC,EAAgDuD,YAAY,GAAG,EAA/D,EAAmE/C,cAAc,GAAG,EAApF,EAAwF;AACtF,UAAMoB,IAAI,GAAG5B,aAAa,CAACW,YAA3B;AACA,QAAI6C,wBAAwB,GAAGhD,cAA/B;;AAEA,QAAI,OAAOgD,wBAAP,KAAoC,UAAxC,EAAoD;AAClDA,MAAAA,wBAAwB,GAAGA,wBAAwB,CAACxD,aAAD,CAAnD;AACD;;AAED,QAAI0C,OAAO,GAAG,EAAd;;AAEA,QAAI;AACF,YAAMe,OAAO,GAAGlB,aAAa,EAA7B;;AAEA,UAAIgB,YAAY,CAAChD,MAAb,IAAuBgD,YAAY,CAAChD,MAAb,CAAoBmC,OAA/C,EAAwD;AACtDe,QAAAA,OAAO,CAACF,YAAY,CAAChD,MAAb,CAAoBmC,OAArB,CAAP;AACD;;AAEDe,MAAAA,OAAO,CAACD,wBAAwB,CAACd,OAA1B,CAAP;AACAA,MAAAA,OAAO,GAAG,CAAC,GAAGe,OAAO,EAAX,EAAeC,GAAf,CAAmBC,IAAI,IAAI;AACnC,cAAM,CAACzB,MAAD,EAASH,OAAT,IAAoB4B,IAA1B;;AAEA,YAAI,OAAOzB,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,iBAAOD,UAAU,CAACC,MAAD,EAASH,OAAT,EAAkBH,IAAlB,CAAjB;AACD;;AAED,eAAOM,MAAP;AACD,OARS,CAAV;AASD,KAjBD,CAiBE,OAAOb,KAAP,EAAc;AACdrB,MAAAA,aAAa,CAAC4D,SAAd,CAAwBvC,KAAxB;AACD;;AAED,UAAMwC,wBAAwB,GAAGN,YAAY,CAAChD,MAAb,IAAuB,EAAxD;;AAEA,QAAIsD,wBAAwB,CAACC,IAA7B,EAAmC;AACjCD,MAAAA,wBAAwB,CAACC,IAAzB,GAAgClF,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBf,KAAK,CAACQ,OAAN,CAAcsB,OAAd,CAAsB6C,YAAY,CAAChC,QAAnC,CAAtB,EAAoEsC,wBAAwB,CAACC,IAA7F,CAAhC;AACD;;AAED,QAAID,wBAAwB,CAACE,EAA7B,EAAiC;AAC/BF,MAAAA,wBAAwB,CAACE,EAAzB,GAA8BnF,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBf,KAAK,CAACQ,OAAN,CAAcsB,OAAd,CAAsB6C,YAAY,CAAChC,QAAnC,CAAtB,EAAoEsC,wBAAwB,CAACE,EAA7F,CAA9B;AACD,KAvCqF,CAuCpF;;;AAGF,WAAOF,wBAAwB,CAACnB,OAAhC;AACA,UAAMsB,yBAAyB,GAAG,CAAC,GAAGhF,KAAK,CAACgD,KAAV,EAAiBwB,wBAAjB,CAAlC;;AAEA,QAAIQ,yBAAyB,CAACF,IAA9B,EAAoC;AAClCE,MAAAA,yBAAyB,CAACF,IAA1B,GAAiClF,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBK,aAAa,CAACiE,WAApC,EAAiDD,yBAAyB,CAACF,IAA3E,CAAjC;AACD;;AAED,QAAIE,yBAAyB,CAACD,EAA9B,EAAkC;AAChCC,MAAAA,yBAAyB,CAACD,EAA1B,GAA+BnF,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBK,aAAa,CAACiE,WAApC,EAAiDD,yBAAyB,CAACD,EAA3E,CAA/B;AACD,KAnDqF,CAmDpF;;;AAGF,WAAOC,yBAAyB,CAACzD,MAAjC;AACA,WAAOyD,yBAAyB,CAACtB,OAAjC;AACA,UAAMwB,cAAc,GAAG;AACrBJ,MAAAA,IAAI,EAAElC,IADe;AAErBmC,MAAAA,EAAE,EAAEnC,IAFiB;AAGrB8B,MAAAA,GAAG,EAAE,KAHgB;AAIrB,SAAGG,wBAJkB;AAKrB,SAAGG;AALkB,KAAvB;;AAQA,QAAI,OAAOE,cAAc,CAACC,MAAtB,KAAiC,QAArC,EAA+C;AAC7C,UAAI;AACFD,QAAAA,cAAc,CAACC,MAAf,SAA8BjB,oBAAoB,CAACgB,cAAc,CAACC,MAAhB,CAAlD;AACD,OAFD,CAEE,OAAO9C,KAAP,EAAc;AACdrB,QAAAA,aAAa,CAAC4D,SAAd,CAAwB,IAAI9C,KAAJ,CAAW,oBAAmBoD,cAAc,CAACC,MAAO,oBAAmB9C,KAAK,CAACiB,OAAQ,SAAQV,IAAK,GAAlG,CAAxB;AACD;AACF;;AAED,QAAI,OAAOsC,cAAc,CAACE,WAAtB,KAAsC,QAA1C,EAAoD;AAClD,UAAI;AACFF,QAAAA,cAAc,CAACE,WAAf,SAAmClB,oBAAoB,CAACgB,cAAc,CAACE,WAAhB,CAAvD;AACD,OAFD,CAEE,OAAO/C,KAAP,EAAc;AACdrB,QAAAA,aAAa,CAAC4D,SAAd,CAAwB,IAAI9C,KAAJ,CAAW,oBAAmBoD,cAAc,CAACE,WAAY,yBAAwB/C,KAAK,CAACiB,OAAQ,SAAQV,IAAK,GAA5G,CAAxB;AACD;AACF;;AAED,QAAI,OAAOsC,cAAc,CAACG,MAAtB,KAAiC,QAArC,EAA+C;AAC7C,UAAI;AACFH,QAAAA,cAAc,CAACG,MAAf,SAA8BnB,oBAAoB,CAACgB,cAAc,CAACG,MAAhB,CAAlD;AACD,OAFD,CAEE,OAAOhD,KAAP,EAAc;AACdrB,QAAAA,aAAa,CAAC4D,SAAd,CAAwB,IAAI9C,KAAJ,CAAW,oBAAmBoD,cAAc,CAACG,MAAO,oBAAmBhD,KAAK,CAACiB,OAAQ,SAAQV,IAAK,GAAlG,CAAxB;AACD;AACF;;AAED,QAAIsC,cAAc,CAACR,GAAf,KAAuB,IAA3B,EAAiC;AAC/B;AACAQ,MAAAA,cAAc,CAACR,GAAf,GAAqB;AACnBY,QAAAA,MAAM,EAAE;AADW,OAArB;AAGD;;AAED,WAAO;AACL5B,MAAAA,OADK;AAELwB,MAAAA;AAFK,KAAP;AAID,G;;;;AAED,MAAMK,oBAAoB,GAAG,qBAA7B;AACA,MAAMC,eAAe,GAAG,kBAAxB;;AAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,MAAIA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAlB,EAAuB;AACrB,QAAIA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAlB,EAAuB;AACrB,aAAO,iBAAP;AACD;;AAED,WAAO,eAAP;AACD;;AAED,MAAIH,oBAAoB,CAACI,IAArB,CAA0BD,MAA1B,CAAJ,EAAuC;AACrC,WAAO,eAAP;AACD;;AAED,SAAOF,eAAe,CAACG,IAAhB,CAAqBD,MAArB,IAA+B,UAA/B,GAA4C,eAAnD;AACD;;AAED,SAAShG,kBAAT,CAA4BgF,GAA5B,EAAiCkB,eAAjC,EAAkD;AAChD,MAAIC,MAAM,GAAGnB,GAAb,CADgD,CAC9B;AAClB;;AAEA,MAAI,OAAOmB,MAAP,KAAkB,QAAtB,EAAgC;AAC9BA,IAAAA,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWF,MAAX,CAAT;AACD;;AAED,SAAOA,MAAM,CAACjD,IAAd;AACA,QAAM;AACJoD,IAAAA;AADI,MAEFH,MAFJ;AAGA,SAAOA,MAAM,CAACG,UAAd;;AAEA,MAAIH,MAAM,CAACI,OAAX,EAAoB;AAClBJ,IAAAA,MAAM,CAACI,OAAP,GAAiBJ,MAAM,CAACI,OAAP,CAAevB,GAAf,CAAmBgB,MAAM,IAAI;AAC5C,YAAMQ,UAAU,GAAGT,UAAU,CAACC,MAAD,CAA7B,CAD4C,CACL;;AAEvC,UAAIQ,UAAU,KAAK,eAAf,IAAkCA,UAAU,KAAK,eAArD,EAAsE;AACpE,cAAMC,cAAc,GAAGD,UAAU,KAAK,eAAf,IAAkCF,UAAlC,GAA+CpG,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBqF,UAAtB,EAAkCpG,KAAK,CAACQ,OAAN,CAAcgG,SAAd,CAAwBV,MAAxB,CAAlC,CAA/C,GAAoH9F,KAAK,CAACQ,OAAN,CAAcgG,SAAd,CAAwBV,MAAxB,CAA3I;AACA,eAAO9F,KAAK,CAACQ,OAAN,CAAciG,QAAd,CAAuBT,eAAvB,EAAwCO,cAAxC,CAAP;AACD;;AAED,aAAOT,MAAP;AACD,KATgB,CAAjB;AAUD;;AAED,SAAOG,MAAP;AACD;;AAED,SAASlG,8BAAT,CAAwC+E,GAAxC,EAA6CkB,eAA7C,EAA8D;AAC5D,QAAMC,MAAM,GAAGnB,GAAf,CAD4D,CACxC;AACpB;AACA;;AAEA,SAAOmB,MAAM,CAACjD,IAAd,CAL4D,CAKxC;;AAEpBiD,EAAAA,MAAM,CAACG,UAAP,GAAoB,EAApB,CAP4D,CAOpC;;AAExBH,EAAAA,MAAM,CAACI,OAAP,GAAiBJ,MAAM,CAACI,OAAP,CAAevB,GAAf,CAAmBgB,MAAM,IAAI;AAC5C,QAAIA,MAAM,CAACY,OAAP,CAAe,GAAf,MAAwB,CAA5B,EAA+B;AAC7B,aAAOZ,MAAP;AACD;;AAED,UAAMQ,UAAU,GAAGT,UAAU,CAACC,MAAD,CAA7B,CAL4C,CAKL;;AAEvC,QAAIQ,UAAU,KAAK,eAAnB,EAAoC;AAClC,aAAOtG,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBiF,eAAtB,EAAuCF,MAAvC,CAAP;AACD;;AAED,WAAOA,MAAP;AACD,GAZgB,CAAjB;AAaA,SAAOG,MAAP;AACD;;AAED,SAASvG,kBAAT,CAA4BiH,GAA5B,EAAiCC,QAAjC,EAA2C;AACzC,MAAIC,GAAG,GAAGF,GAAV;;AAEA,WAAS;AACP,QAAI;AACF,UAAIC,QAAQ,CAAC5G,KAAK,CAACQ,OAAN,CAAcsG,IAAd,CAAmBD,GAAnB,EAAwB,cAAxB,CAAD,CAAR,CAAkDvE,MAAlD,EAAJ,EAAgE;AAC9D;AACD;AACF,KAJD,CAIE,OAAOG,KAAP,EAAc,CAAC;AAChB;;AAED,UAAMsE,MAAM,GAAG/G,KAAK,CAACQ,OAAN,CAAcsB,OAAd,CAAsB+E,GAAtB,CAAf;;AAEA,QAAIA,GAAG,KAAKE,MAAZ,EAAoB;AAClBF,MAAAA,GAAG,GAAG,IAAN;AACA;AACD;;AAEDA,IAAAA,GAAG,GAAGE,MAAN;AACD;;AAED,SAAOF,GAAP;AACD;;AAED,SAASlH,wBAAT,CAAkCyB,aAAlC,EAAiD4F,cAAjD,EAAiE;AAC/D,MAAIC,sBAAsB,GAAGD,cAA7B;;AAEA,MAAI,CAACA,cAAD,IAAmB,OAAOA,cAAP,KAA0B,QAAjD,EAA2D;AACzD,UAAME,cAAc,GAAGF,cAAc,IAAI,SAAzC;;AAEA,QAAI;AACF;AACAC,MAAAA,sBAAsB,GAAG/G,OAAO,CAACgH,cAAD,CAAhC;AACD,KAHD,CAGE,OAAOzE,KAAP,EAAc;AACdrB,MAAAA,aAAa,CAAC4D,SAAd,CAAwBvC,KAAxB,EADc,CACkB;;AAEhC;AACD;AACF,GAd8D,CAc7D;;;AAGF,SAAOwE,sBAAP;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.exec = exec;\nexports.findPackageJSONDir = findPackageJSONDir;\nexports.getPostcssImplementation = getPostcssImplementation;\nexports.getPostcssOptions = getPostcssOptions;\nexports.loadConfig = loadConfig;\nexports.normalizeSourceMap = normalizeSourceMap;\nexports.normalizeSourceMapAfterPostcss = normalizeSourceMapAfterPostcss;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _module = _interopRequireDefault(require(\"module\"));\n\nvar _full = require(\"klona/full\");\n\nvar _cosmiconfig = require(\"cosmiconfig\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst parentModule = module;\n\nconst stat = (inputFileSystem, filePath) => new Promise((resolve, reject) => {\n  inputFileSystem.stat(filePath, (err, stats) => {\n    if (err) {\n      reject(err);\n    }\n\n    resolve(stats);\n  });\n});\n\nfunction exec(code, loaderContext) {\n  const {\n    resource,\n    context\n  } = loaderContext;\n  const module = new _module.default(resource, parentModule); // eslint-disable-next-line no-underscore-dangle\n\n  module.paths = _module.default._nodeModulePaths(context);\n  module.filename = resource; // eslint-disable-next-line no-underscore-dangle\n\n  module._compile(code, resource);\n\n  return module.exports;\n}\n\nasync function loadConfig(loaderContext, config, postcssOptions) {\n  const searchPath = typeof config === \"string\" ? _path.default.resolve(config) : _path.default.dirname(loaderContext.resourcePath);\n  let stats;\n\n  try {\n    stats = await stat(loaderContext.fs, searchPath);\n  } catch (errorIgnore) {\n    throw new Error(`No PostCSS config found in: ${searchPath}`);\n  }\n\n  const explorer = (0, _cosmiconfig.cosmiconfig)(\"postcss\");\n  let result;\n\n  try {\n    if (stats.isFile()) {\n      result = await explorer.load(searchPath);\n    } else {\n      result = await explorer.search(searchPath);\n    }\n  } catch (error) {\n    throw error;\n  }\n\n  if (!result) {\n    return {};\n  }\n\n  loaderContext.addBuildDependency(result.filepath);\n  loaderContext.addDependency(result.filepath);\n\n  if (result.isEmpty) {\n    return result;\n  }\n\n  if (typeof result.config === \"function\") {\n    const api = {\n      mode: loaderContext.mode,\n      file: loaderContext.resourcePath,\n      // For complex use\n      webpackLoaderContext: loaderContext,\n      // Partial compatibility with `postcss-cli`\n      env: loaderContext.mode,\n      options: postcssOptions || {}\n    };\n    result.config = result.config(api);\n  }\n\n  result = (0, _full.klona)(result);\n  return result;\n}\n\nfunction loadPlugin(plugin, options, file) {\n  try {\n    if (!options || Object.keys(options).length === 0) {\n      // eslint-disable-next-line global-require, import/no-dynamic-require\n      const loadedPlugin = require(plugin);\n\n      if (loadedPlugin.default) {\n        return loadedPlugin.default;\n      }\n\n      return loadedPlugin;\n    } // eslint-disable-next-line global-require, import/no-dynamic-require\n\n\n    const loadedPlugin = require(plugin);\n\n    if (loadedPlugin.default) {\n      return loadedPlugin.default(options);\n    }\n\n    return loadedPlugin(options);\n  } catch (error) {\n    throw new Error(`Loading PostCSS \"${plugin}\" plugin failed: ${error.message}\\n\\n(@${file})`);\n  }\n}\n\nfunction pluginFactory() {\n  const listOfPlugins = new Map();\n  return plugins => {\n    if (typeof plugins === \"undefined\") {\n      return listOfPlugins;\n    }\n\n    if (Array.isArray(plugins)) {\n      for (const plugin of plugins) {\n        if (Array.isArray(plugin)) {\n          const [name, options] = plugin;\n          listOfPlugins.set(name, options);\n        } else if (plugin && typeof plugin === \"function\") {\n          listOfPlugins.set(plugin);\n        } else if (plugin && Object.keys(plugin).length === 1 && (typeof plugin[Object.keys(plugin)[0]] === \"object\" || typeof plugin[Object.keys(plugin)[0]] === \"boolean\") && plugin[Object.keys(plugin)[0]] !== null) {\n          const [name] = Object.keys(plugin);\n          const options = plugin[name];\n\n          if (options === false) {\n            listOfPlugins.delete(name);\n          } else {\n            listOfPlugins.set(name, options);\n          }\n        } else if (plugin) {\n          listOfPlugins.set(plugin);\n        }\n      }\n    } else {\n      const objectPlugins = Object.entries(plugins);\n\n      for (const [name, options] of objectPlugins) {\n        if (options === false) {\n          listOfPlugins.delete(name);\n        } else {\n          listOfPlugins.set(name, options);\n        }\n      }\n    }\n\n    return listOfPlugins;\n  };\n}\n\nasync function tryRequireThenImport(module) {\n  let exports;\n\n  try {\n    // eslint-disable-next-line import/no-dynamic-require, global-require\n    exports = require(module);\n    return exports;\n  } catch (requireError) {\n    let importESM;\n\n    try {\n      // eslint-disable-next-line no-new-func\n      importESM = new Function(\"id\", \"return import(id);\");\n    } catch (e) {\n      importESM = null;\n    }\n\n    if (requireError.code === \"ERR_REQUIRE_ESM\" && importESM) {\n      exports = await importESM(module);\n      return exports.default;\n    }\n\n    throw requireError;\n  }\n}\n\nasync function getPostcssOptions(loaderContext, loadedConfig = {}, postcssOptions = {}) {\n  const file = loaderContext.resourcePath;\n  let normalizedPostcssOptions = postcssOptions;\n\n  if (typeof normalizedPostcssOptions === \"function\") {\n    normalizedPostcssOptions = normalizedPostcssOptions(loaderContext);\n  }\n\n  let plugins = [];\n\n  try {\n    const factory = pluginFactory();\n\n    if (loadedConfig.config && loadedConfig.config.plugins) {\n      factory(loadedConfig.config.plugins);\n    }\n\n    factory(normalizedPostcssOptions.plugins);\n    plugins = [...factory()].map(item => {\n      const [plugin, options] = item;\n\n      if (typeof plugin === \"string\") {\n        return loadPlugin(plugin, options, file);\n      }\n\n      return plugin;\n    });\n  } catch (error) {\n    loaderContext.emitError(error);\n  }\n\n  const processOptionsFromConfig = loadedConfig.config || {};\n\n  if (processOptionsFromConfig.from) {\n    processOptionsFromConfig.from = _path.default.resolve(_path.default.dirname(loadedConfig.filepath), processOptionsFromConfig.from);\n  }\n\n  if (processOptionsFromConfig.to) {\n    processOptionsFromConfig.to = _path.default.resolve(_path.default.dirname(loadedConfig.filepath), processOptionsFromConfig.to);\n  } // No need them for processOptions\n\n\n  delete processOptionsFromConfig.plugins;\n  const processOptionsFromOptions = (0, _full.klona)(normalizedPostcssOptions);\n\n  if (processOptionsFromOptions.from) {\n    processOptionsFromOptions.from = _path.default.resolve(loaderContext.rootContext, processOptionsFromOptions.from);\n  }\n\n  if (processOptionsFromOptions.to) {\n    processOptionsFromOptions.to = _path.default.resolve(loaderContext.rootContext, processOptionsFromOptions.to);\n  } // No need them for processOptions\n\n\n  delete processOptionsFromOptions.config;\n  delete processOptionsFromOptions.plugins;\n  const processOptions = {\n    from: file,\n    to: file,\n    map: false,\n    ...processOptionsFromConfig,\n    ...processOptionsFromOptions\n  };\n\n  if (typeof processOptions.parser === \"string\") {\n    try {\n      processOptions.parser = await tryRequireThenImport(processOptions.parser);\n    } catch (error) {\n      loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.parser}\" parser failed: ${error.message}\\n\\n(@${file})`));\n    }\n  }\n\n  if (typeof processOptions.stringifier === \"string\") {\n    try {\n      processOptions.stringifier = await tryRequireThenImport(processOptions.stringifier);\n    } catch (error) {\n      loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.stringifier}\" stringifier failed: ${error.message}\\n\\n(@${file})`));\n    }\n  }\n\n  if (typeof processOptions.syntax === \"string\") {\n    try {\n      processOptions.syntax = await tryRequireThenImport(processOptions.syntax);\n    } catch (error) {\n      loaderContext.emitError(new Error(`Loading PostCSS \"${processOptions.syntax}\" syntax failed: ${error.message}\\n\\n(@${file})`));\n    }\n  }\n\n  if (processOptions.map === true) {\n    // https://github.com/postcss/postcss/blob/master/docs/source-maps.md\n    processOptions.map = {\n      inline: true\n    };\n  }\n\n  return {\n    plugins,\n    processOptions\n  };\n}\n\nconst IS_NATIVE_WIN32_PATH = /^[a-z]:[/\\\\]|^\\\\\\\\/i;\nconst ABSOLUTE_SCHEME = /^[a-z0-9+\\-.]+:/i;\n\nfunction getURLType(source) {\n  if (source[0] === \"/\") {\n    if (source[1] === \"/\") {\n      return \"scheme-relative\";\n    }\n\n    return \"path-absolute\";\n  }\n\n  if (IS_NATIVE_WIN32_PATH.test(source)) {\n    return \"path-absolute\";\n  }\n\n  return ABSOLUTE_SCHEME.test(source) ? \"absolute\" : \"path-relative\";\n}\n\nfunction normalizeSourceMap(map, resourceContext) {\n  let newMap = map; // Some loader emit source map as string\n  // Strip any JSON XSSI avoidance prefix from the string (as documented in the source maps specification), and then parse the string as JSON.\n\n  if (typeof newMap === \"string\") {\n    newMap = JSON.parse(newMap);\n  }\n\n  delete newMap.file;\n  const {\n    sourceRoot\n  } = newMap;\n  delete newMap.sourceRoot;\n\n  if (newMap.sources) {\n    newMap.sources = newMap.sources.map(source => {\n      const sourceType = getURLType(source); // Do no touch `scheme-relative` and `absolute` URLs\n\n      if (sourceType === \"path-relative\" || sourceType === \"path-absolute\") {\n        const absoluteSource = sourceType === \"path-relative\" && sourceRoot ? _path.default.resolve(sourceRoot, _path.default.normalize(source)) : _path.default.normalize(source);\n        return _path.default.relative(resourceContext, absoluteSource);\n      }\n\n      return source;\n    });\n  }\n\n  return newMap;\n}\n\nfunction normalizeSourceMapAfterPostcss(map, resourceContext) {\n  const newMap = map; // result.map.file is an optional property that provides the output filename.\n  // Since we don't know the final filename in the webpack build chain yet, it makes no sense to have it.\n  // eslint-disable-next-line no-param-reassign\n\n  delete newMap.file; // eslint-disable-next-line no-param-reassign\n\n  newMap.sourceRoot = \"\"; // eslint-disable-next-line no-param-reassign\n\n  newMap.sources = newMap.sources.map(source => {\n    if (source.indexOf(\"<\") === 0) {\n      return source;\n    }\n\n    const sourceType = getURLType(source); // Do no touch `scheme-relative`, `path-absolute` and `absolute` types\n\n    if (sourceType === \"path-relative\") {\n      return _path.default.resolve(resourceContext, source);\n    }\n\n    return source;\n  });\n  return newMap;\n}\n\nfunction findPackageJSONDir(cwd, statSync) {\n  let dir = cwd;\n\n  for (;;) {\n    try {\n      if (statSync(_path.default.join(dir, \"package.json\")).isFile()) {\n        break;\n      }\n    } catch (error) {// Nothing\n    }\n\n    const parent = _path.default.dirname(dir);\n\n    if (dir === parent) {\n      dir = null;\n      break;\n    }\n\n    dir = parent;\n  }\n\n  return dir;\n}\n\nfunction getPostcssImplementation(loaderContext, implementation) {\n  let resolvedImplementation = implementation;\n\n  if (!implementation || typeof implementation === \"string\") {\n    const postcssImplPkg = implementation || \"postcss\";\n\n    try {\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      resolvedImplementation = require(postcssImplPkg);\n    } catch (error) {\n      loaderContext.emitError(error); // eslint-disable-next-line consistent-return\n\n      return;\n    }\n  } // eslint-disable-next-line consistent-return\n\n\n  return resolvedImplementation;\n}"]},"metadata":{},"sourceType":"script"}